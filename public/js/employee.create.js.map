{"version":3,"sources":["employee.create.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"employee.create.js","sourcesContent":["'use strict';\n\nVue.http.headers.common[\"X-CSRF-TOKEN\"] = document.querySelector(\"#token\").getAttribute(\"value\");\nvar chart ;\n\nvar api = 'http://'+window.location.host + '/api/v1/employee';\nvar pinyin_api = 'http://'+window.location.host + '/api/v1/pinyin';\n\n\nvar vm = new Vue({\n\n    el:\"#app\",\n\n    data:{\n        companyData:'',\n        officeData:'',\n        data:[],\n        items:{},\n        selected_company:1,\n        selected_job:1,\n        selected_office:1,\n        selected_visa:1,\n        selected_handle:1,\n        pinyin:'',\n        memo:''\n    },\n\n    ready:function(){\n       this.fetchAPI();\n   },\n\n   methods:{\n       fetchAPI: function(){\n         this.$http.get(api+'/create',function(data){\n           this.$set(\"data\",data);\n       });\n     },\n\n       submit:function(){\n           this.fetchForm();\n           if (! this.validate()){\n               this.$http.post(api,this.items);\n           }\n\n       },\n\n       fetchForm:function(){\n          var name = $('#name').val();\n           var company_id = $( \"#company option:selected\" ).val();\n           var position_id = $( \"#position option:selected\" ).val();\n           var office_id = $( \"#office option:selected\" ).val();\n           var reached_at = $(\"#reached_at\").val();\n           var passport = $(\"#passport\").val();\n           var passport_date = $(\"#passport_date\").val();\n           var passport_deadline = $(\"#passport_deadline\").val();\n           var visa_type_id = $(\"#visa_type_id\").val();\n           var visa_deadline = $(\"#visa_deadline\").val();\n           var land_deadline = $(\"#land_deadline\").val();\n           var visa_handle_id = $(\"#visa_handle_id\").val();\n           var pinyin =  $(\"#pinyin\").val();\n           var memo =  $(\"#memo\").val();\n\n           this.items = {\n               name:name,\n               company_id:company_id,\n               position_id:position_id,\n               office_id:office_id,\n               reached_at:reached_at,\n               passport:passport,\n               passport_date:passport_date,\n               passport_deadline:passport_deadline,\n               visa_type_id:visa_type_id,\n               visa_deadline:visa_deadline,\n               land_deadline:land_deadline,\n               visa_handle_id:visa_handle_id,\n               pinyin:pinyin,\n               memo:memo\n           }\n       },\n\n       validate:function(){\n                var has_err = false;\n               $('#form input').each(function(){\n               if($(this).val() == ''){\n                   $(this).closest('.form-group').addClass('has-error');\n                   has_err = true;\n               }else{\n                   $(this).closest('.form-group').removeClass('has-error');\n               }\n           });\n           return has_err;\n       },\n\n       touchPinyin:function(){\n           var pinyin = {\n               name:$(\"#name\").val()\n           };\n           if(pinyin==''){\n               this.pinyin = '';\n           }else {\n               this.$http.post(pinyin_api, pinyin, function (data) {\n                   this.$set('pinyin', data['pinyin']);\n               });\n           }\n       },\n       genPinyin:function(){\n          this.touchPinyin();\n       }\n\n\n\n}\n\n    //computed:{\n    //    jobs:{\n    //        get:function(){\n    //            this.$http.get(api,function(data){\n    //                 this.$set('jobs',data[\"position\"]);\n    //            });\n\n                //var lists = [\n                //    {\"name\":\"sss\",\"value\":11},{\"text\":\"vvvv\",\"value\":12}\n                //];\n                //return lists;\n    //        }\n    //    }\n    //}\n\n});\n\n\n\n"],"sourceRoot":"/source/"}